# Federation

Lemmy использует протокол ActivityPub (стандарт W3C) для обеспечения федерации между различными серверами (часто называемыми инстансами). Это очень похоже на то, как работает электронная почта. Например, если вы используете gmail.com, то вы можете отправлять письма не только другим пользователям gmail.com, но и yahoo.com, yandex.ru и так далее. Для этого в электронной почте используется протокол SMTP, поэтому ActivityPub можно рассматривать как «SMTP для социальных сетей». Количество различных действий, возможных в социальных сетях (публикация, комментарий, лайк, публикация и т. Д.), Означает, что ActivityPub намного сложнее, чем SMTP. 

Как и в случае с электронной почтой, федерация ActivityPub происходит только между серверами. Итак, если вы зарегистрированы на `enterprise.lemmy.ml`, вы подключаетесь только к API  `enterprise.lemmy.ml`, в то время как сервер берет на себя отправку и прием данных от других экземпляров  (например `voyager.lemmy.ml`). Большим преимуществом этого подхода является то, что обычному пользователю не нужно ничего делать, чтобы использовать федерацию. Фактически, если вы используете Lemmy, вы, вероятно, уже используете его. Один из способов подтвердить это - зайти в сообщество или в профиль пользователя. Если ты на  `enterprise.lemmy.ml` и вы видите пользователя вроде `@nutomic@voyager.lemmy.ml`, или такое сообщество, как `!main@ds9.lemmy.ml`, тогда они федерированы, то есть они используют инстанс, отличный от вашего.

Один из способов воспользоваться преимуществами федерации - открыть другой инстанст, например `ds9.lemmy.ml`, и просмотреть его. Если вы видите интересное сообщество, сообщение или пользователя, с которым хотите взаимодействовать, просто скопируйте его URL и вставьте его в поиск своего собственного экземпляра. Ваш инстанс будет подключаться к другому (при условии, что это разрешено списком разрешений / блокировок) и напрямую отображать удаленный контент для вас, чтобы вы могли следить за сообществом или комментировать сообщение. Вот несколько примеров рабочих примеров:

- `!main@lemmy.ml` (Сообщество)
- `@nutomic@lemmy.ml` (Пользователь)
- `https://lemmy.ml/c/programming` (Сообщество)
- `https://lemmy.ml/u/nutomic` (Пользователь)
- `https://lemmy.ml/post/123` (Пост)
- `https://lemmy.ml/comment/321` (Комментарий)

Вы можете увидеть список связанных экземпляров, перейдя по ссылке «Инстансы» внизу любой страницы Lemmy. 

## Получение сообществ

При первом поиске сообщества сначала выбирается 20 сообщений. Только если хотя бы один пользователь на вашем экземпляре подписывается на удаленное сообщество, сообщество будет отправлять обновления на ваш экземпляр. Обновления включают:

- Новые сообщения, комментарии
- Голосования
- Публикации, редактирования и удаление комментариев
- Действия модераторов

Вы можете скопировать URL-адрес сообщества из адресной строки браузера и вставить его в поле поиска. Подождите несколько секунд, пост появится внизу. На данный момент нет индикатора загрузки для поиска, поэтому подождите несколько секунд, если он показывает «нет результатов». 

## Получение постов

Вставьте URL-адрес публикации в поле поиска вашего экземпляра Lemmy. Подождите несколько секунд, пока не появится сообщение. Это также приведёт к получению профиля сообщества и профиля создателя сообщения.

## Получение сообщений

Если вы найдете интересный комментарий под сообщением на другом инстансе, вы можете найти под комментарием в трехточечном меню символ ссылки. Скопируйте эту ссылку. Это выглядит как `https://lemmy.ml/post/56382/ comment/40796`. Удалите часть `post/XXX` и поместите её в строку поиска. В этом примере выполните поиск по запросу https://lemmy.ml/comment/40796. Этот комментарий, все родительские комментарии, пользователи и сообщество, а также соответствующая публикация извлекаются из удаленного экземпляра, если они не известны локально.

Родственные комментарии не загружаются! Если вам нужно больше комментариев к более старым сообщениям, вам нужно найти каждый из них, как описано выше.
